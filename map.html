<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="http://d3js.org/d3.v3.min.js"></script>
  
    <script type="text/javascript">  
		
	    d3.csv("avg_scores_by_country_complete.csv", function(data) {
				 data.forEach(function(d) {
					 d.math_avg = +d.math_avg;
					 d.reading_avg = +d.reading_avg;
					 d.science_avg = +d.science_avg;
					 });
				});
		
		function color_scale(data) {
			var colors = ["#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]
			
			console.log(avg_scores);
			
			var score_extent = d3.extent(data, function(d) {
				return d['math_avg'];
			});
			
			var score_scale = d3.scale.quantile()
						   .domain(score_extent)
						   .range(colors);
			

		}
			

			
        function draw(geo_data) {
	        "use strict";
	        var margin = 75,
	            width = 1500 - margin,
	            height = 730 - margin;
	
	        var svg = d3.select("body")
	            .append("svg")
	            .attr("width", width + margin)
	            .attr("height", height + margin)
	            .append('g')
	            .attr('class', 'map');
	       
	        var projection = d3.geo.mercator()
								   .scale(130)
								   .translate([width/2, height/1.3]);
	        
	        var path = d3.geo.path().projection(projection);
	
	        var map = svg.selectAll('path')
						 .data(geo_data.features)
						 .enter()
						 .append('path')
						 .attr('d', path)
						 .style('fill', function(data) {
							 if (data['properties']['name'] == "Brazil") {
								 return '#deebf7';
							 }
							 else {
								 return '#f7fbff';
							 }
							 })	 
						 .style('stroke', 'black')
						 .style('stroke-width', 0.5);
		}
  
	d3.json("world_countries.json", draw);
    </script>
</body>
</html>
