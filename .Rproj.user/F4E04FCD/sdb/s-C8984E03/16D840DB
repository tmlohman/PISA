{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Untitled\"\nauthor: \"Tegan Lohman\"\ndate: \"August 29, 2016\"\noutput: html_document\n---\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE)\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(gridExtra)\n\n```\n\n\n\n```{r}\n\n# Load data, clean up table, check types\npisadata <- read.table('sample2.csv', header = TRUE, sep = \",\")\npisadict <- read.csv('pisadict2012.csv', header = FALSE)\n\nncol(pisadata)\nnrow(pisadict)\n\nheader <- t(pisadict)[1,]\nnames(pisadata) <- header\n\nsummary(pisadata)\nView(pisadata[502:506])\n\nstr(pisadata)\n```\n\n```{r}\n\ncolnames(pisadata)[colnames(pisadata)==\"Country code 3-character\"] <- \"Country\"\n\ncountry_groups <- group_by(pisadata, Country)\n\nggplot(data = country_groups, aes(factor(Country))) +\n  geom_bar() +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1))\n\n```\nMost countries have about 50 students represented in this sample, however a few are heavily over or under-represented. The United States is represented, as are several individual states. I wonder if all states have individual data in the complete data set.\n```{r}\navg_scores_by_country <- aggregate(pisadata[, c(502, 542, 547)],\n                                   list(pisadata$Country), mean)\nnames(avg_scores_by_country) <- c('country', 'math', 'reading', 'science')\nggplot(avg_scores_by_country, ) +\n  geom_point(aes(country, math), color = 'blue') +\n  geom_point(aes(country, reading), color = 'red') +\n  geom_point(aes(country, science), color = 'green') +\n  the?me(axis.text.x = element_text(angle = 90, hjust = 1))\n```\nThe scores for math, reading, and science tend to fall within a narrow range by country. In other words, countries tend to either do well in everything, or poorly in everything.\n```{r}\nscores_and_ses <- read.csv('selected_columns_sample.csv', colClasses = c('factor', 'numeric', 'numeric', 'numeric', 'numeric'))\n\nView(scores_and_ses$escs)\n\nggplot(scores_and_ses) +\n  geom_point(aes(escs, math), color = 'blue', alpha = 0.2) +\n   geom_point(aes(escs, reading), color = 'red', alpha = 0.2) +\n   geom_point(aes(escs, science), color = 'green', alpha = 0.2) \n\n```\nInternationally, students from families who are better off financially score better on the math, reading, and science assessments. Does this correlation vary by country?\n```{r}\nUnited_States <- subset(scores_and_ses, country == 'United States of America')\nChina <- subset(scores_and_ses, country == 'Macao-China')\nGermany <- subset(scores_and_ses, country == 'Germany')\nBrazil <- subset(scores_and_ses, country == 'Brazil')\n\np1 <- ggplot(United_States) +\n  geom_point(aes(escs, math), color = 'blue', alpha = 0.2) +\n  geom_point(aes(escs, reading), color = 'red', alpha = 0.2) +\n  geom_point(aes(escs, science), color = 'green', alpha = 0.2) +\n  ggtitle(\"United States\")\n\np2 <- ggplot(Brazil) +\n  geom_point(aes(escs, math), color = 'blue', alpha = 0.2) +\n  geom_point(aes(escs, reading), color = 'red', alpha = 0.2) +\n  geom_point(aes(escs, science), color = 'green', alpha = 0.2) +\n  ggtitle(\"Brazil\")\n\np3 <- ggplot(China) +\n  geom_point(aes(escs, math), color = 'blue', alpha = 0.2) +\n  geom_point(aes(escs, reading), color = 'red', alpha = 0.2) +\n  geom_point(aes(escs, science), color = 'green', alpha = 0.2) +\n  ggtitle(\"China\")\n\np4 <- ggplot(Germany) +\n  geom_point(aes(escs, math), color = 'blue', alpha = 0.2) +\n  geom_point(aes(escs, reading), color = 'red', alpha = 0.2) +\n  geom_point(aes(escs, science), color = 'green', alpha = 0.2) +\n  ggtitle(\"Germany\")\n\ngrid.arrange(p1, p2, p3, p4, ncol = 2)\n\n```\nThe link between socio-economic status and test scores varies by country.\n\n```{r}\n\nscores_and_ses_complete <- read.csv('selected_columns_complete.csv', header = TRUE, colClasses = c('factor', 'numeric', 'numeric', 'numeric', 'numeric'))\n\navg_scores_by_country_complete <- aggregate(scores_and_ses_complete[, c(3,4,5)],\n                                   list(scores_and_ses_complete$country), mean)\n\nnames(avg_scores_by_country_complete) <- c('country', 'math_avg', 'reading_avg', 'science_avg')\n\nwrite.table(avg_scores_by_country_complete, \n            file = \"avg_scores_by_country_complete.csv\",\n            sep = \",\")\n\n```\n\n",
    "created" : 1472532400086.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2608811998",
    "id" : "16D840DB",
    "lastKnownWriteTime" : 1472659903,
    "last_content_update" : 1472659903938,
    "path" : "~/Projects/P6/PISA/eda.Rmd",
    "project_path" : "eda.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}