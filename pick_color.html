<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
  
    <script type="text/javascript">  
    
	

	
	function pick_color(data) {
		var colors = ["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"];
		var score_extent = d3.extent(data, function(d) {
				return d[2];
			});
		var score_scale = d3.scale.quantile()
						   .domain(score_extent)
						   .range(colors);

		var color_assignments = {};
		
		for (d in data) {
			var key = data[d][1];
			var value = data[d][2]
			color_assignments[key] = score_scale(value);
		}

		console.log(score_extent);
	return color_assignments;	

	}


	d3.csv("avg_scores_by_country_complete.csv", 
			function(d) {
					 d.math_avg = +d.math_avg;
					 d.reading_avg = +d.reading_avg;
					 d.science_avg = +d.science_avg;
					 console.log(d)
					 });
				


    
    
    </script>
</body>
</html>
